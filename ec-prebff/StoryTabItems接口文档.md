# StoryPage ç»„ä»¶Tabå•†å“æŸ¥è¯¢æ¥å£æ–‡æ¡£

## æ¥å£æ¦‚è¿°

è¯¥æ¥å£ç”¨äºæŸ¥è¯¢ StoryPage é¡µé¢ä¸­æ”¯æŒTabé…ç½®çš„ç»„ä»¶ä¸‹çš„å•†å“ä¿¡æ¯ã€‚å‰ç«¯å¯ä»¥æ ¹æ®ä¸åŒçš„Tabåˆ†ç±»ï¼ŒåŠ¨æ€åŠ è½½å¯¹åº”çš„å•†å“åˆ—è¡¨ï¼Œå®ç°Tabåˆ‡æ¢æ•ˆæœã€‚

**å½“å‰æ”¯æŒçš„ç»„ä»¶ï¼š**
- âœ… ç§’æ€ç»„ä»¶ï¼ˆSeckill Componentï¼‰
- ğŸš§ åç»­å¯èƒ½æ”¯æŒå…¶ä»–ç»„ä»¶ç±»å‹

---

## æ¥å£ä¿¡æ¯

**è¯·æ±‚æ–¹å¼ï¼š** `GET`

**æ¥å£è·¯å¾„ï¼š** `/cms/pages/stories/{page_key}/tabItems`

**Content-Typeï¼š** `application/json`

---

## è¯·æ±‚å‚æ•°

### Header å‚æ•°ï¼ˆè¯·æ±‚å¤´ï¼‰

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|------|--------|
| token | String | æ˜¯ | ç”¨æˆ·ç™»å½•å‡­è¯ | `eyJhbGciOiJIUzI1NiJ9...` |
| y_language | String | æ˜¯ | è¯­è¨€è®¾ç½® | `zh_CN`ï¼ˆç®€ä½“ä¸­æ–‡ï¼‰<br>`en_US`ï¼ˆè‹±æ–‡ï¼‰ |
| y_platform | String | æ˜¯ | å¹³å°æ ‡è¯† | `ios`ã€`android`ã€`h5`ã€`pc` |

### Path å‚æ•°ï¼ˆè·¯å¾„å‚æ•°ï¼‰

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|------|--------|
| page_key | String | æ˜¯ | é¡µé¢å”¯ä¸€æ ‡è¯†ï¼ˆä¸å«è¯­è¨€å‰ç¼€ï¼‰ | `home`ã€`recommend` |

### Query å‚æ•°ï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|------|--------|
| cfId | Integer | æ˜¯ | ç»„ä»¶é…ç½®IDï¼ˆcomponent_config_idï¼‰ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ä¸€ä¸ªç»„ä»¶å®ä¾‹ | `12345` |
| subTabId | Integer | å¦ | å­Tabç´¢å¼•ï¼Œå…·ä½“å«ä¹‰ç”±ç»„ä»¶ç±»å‹å†³å®š<br>**ç§’æ€ç»„ä»¶ï¼š** è¡¨ç¤ºç¬¬å‡ åœºç§’æ€æ´»åŠ¨ï¼ˆä»0å¼€å§‹ï¼‰ | `0`ï¼ˆç¬¬ä¸€åœºï¼‰<br>`1`ï¼ˆç¬¬äºŒåœºï¼‰<br>`null`ï¼ˆé»˜è®¤åœºæ¬¡ï¼‰ |
| tabId | Integer | æ˜¯ | åˆ†ç±»Tabçš„IDï¼Œå…·ä½“å«ä¹‰ç”±ç»„ä»¶ç±»å‹å†³å®š<br>**ç§’æ€ç»„ä»¶ï¼š** å•†å“åˆ†ç±»IDï¼Œ`0`è¡¨ç¤ºå…¨éƒ¨åˆ†ç±» | `0`ï¼ˆå…¨éƒ¨åˆ†ç±»ï¼‰<br>`123`ï¼ˆæŒ‡å®šåˆ†ç±»IDï¼‰ |

---

## å“åº”æ•°æ®

### å“åº”ç»“æ„

```json
{
  "code": 0,
  "message": "success",
  "data": {
    // å…·ä½“æ•°æ®ç»“æ„ç”±ç»„ä»¶ç±»å‹å†³å®šï¼Œè¯¦è§ä¸‹æ–¹å„ç»„ä»¶è¯´æ˜
  }
}
```

### é€šç”¨å“åº”å­—æ®µ

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| code | Integer | å“åº”çŠ¶æ€ç <br>`0`ï¼šæˆåŠŸ<br>`90001`ï¼šæ•°æ®ä¸ºç©ºæˆ–ç»„ä»¶IDæ— æ•ˆ |
| message | String | å“åº”æ¶ˆæ¯ |
| data | Object | ä¸šåŠ¡æ•°æ®ï¼Œç»“æ„ç”±ç»„ä»¶ç±»å‹å†³å®šï¼ˆè§ä¸‹æ–¹å„ç»„ä»¶è¯¦ç»†è¯´æ˜ï¼‰ |

---

## ç»„ä»¶ç±»å‹è¯´æ˜

### 1. ç§’æ€ç»„ä»¶ï¼ˆSeckill Componentï¼‰

#### ç»„ä»¶è¯´æ˜

ç§’æ€ç»„ä»¶æ”¯æŒå¤šåœºç§’æ€æ´»åŠ¨ï¼Œæ¯åœºæ´»åŠ¨çš„å•†å“å¯ä»¥æŒ‰åˆ†ç±»Tabè¿›è¡Œç­›é€‰ã€‚å‰ç«¯é€šè¿‡ `subTabId` æŒ‡å®šç§’æ€åœºæ¬¡ï¼Œé€šè¿‡ `tabId` æŒ‡å®šå•†å“åˆ†ç±»ã€‚

#### ç§’æ€ç»„ä»¶å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|------|
| cfId | Integer | æ˜¯ | ç§’æ€ç»„ä»¶çš„é…ç½®ID | `12345` |
| subTabId | Integer | å¦ | ç§’æ€æ´»åŠ¨åœºæ¬¡ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼‰<br>- `0`ï¼šç¬¬ä¸€åœºç§’æ€<br>- `1`ï¼šç¬¬äºŒåœºç§’æ€<br>- ä¸ä¼ ï¼šé»˜è®¤è¿”å›ç¬¬ä¸€åœº | `0`ã€`1` |
| tabId | Integer | æ˜¯ | å•†å“åˆ†ç±»ID<br>- `0`ï¼šå…¨éƒ¨åˆ†ç±»<br>- å…¶ä»–ï¼šå…·ä½“åˆ†ç±»IDï¼ˆåŒ¹é…L1æˆ–L2åˆ†ç±»ï¼‰ | `0`ã€`456` |

#### ç§’æ€ç»„ä»¶è¿”å›å€¼ç»“æ„

**data å­—æ®µç»“æ„ï¼ˆActivitySeckillResponseï¼‰ï¼š**

```json
{
  "ps_id": "670802",
  "status": 1,
  "start_time": 1706745600,
  "end_time": 1706752800,
  "count_down": 3600,
  "item_show_type": 1,
  "item_count": 12,
  "item_info": [
    {
      "goods_id": 100001,
      "item_number": "1016028821",
      "item_title": "ã€é™æ—¶ç§’æ€ã€‘å•†å“åç§°",
      "item_image": "https://cdn.example.com/image.jpg",
      "slug": "product-slug",
      "item_type": "new",
      "business_type": "yamibuy",
      "price": {
        "market_price": "$29.99",
        "current_price": "$19.99",
        "discount_rate": "33%"
      },
      "seckill_status": 1,
      "brand_id": 123,
      "brand_name": "å“ç‰Œåç§°",
      "brand_slug": "brand-slug",
      "comment": {
        "score": 4.8,
        "count": 256
      },
      "badge_list": [
        {
          "type": "hot",
          "text": "çƒ­å–"
        }
      ],
      "tracking_data": {
        "position": 1,
        "component_id": 12345
      }
    }
  ]
}
```

**å­—æ®µè¯´æ˜ï¼š**

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| ps_id | String | ç§’æ€æ´»åŠ¨ID |
| status | Integer | ç§’æ€æ´»åŠ¨çŠ¶æ€<br>`0`ï¼šå·²ç»“æŸ<br>`1`ï¼šè¿›è¡Œä¸­<br>`2`ï¼šæœªå¼€å§‹ |
| start_time | Integer | æ´»åŠ¨å¼€å§‹æ—¶é—´ï¼ˆUnixæ—¶é—´æˆ³ï¼Œç§’ï¼‰ |
| end_time | Integer | æ´»åŠ¨ç»“æŸæ—¶é—´ï¼ˆUnixæ—¶é—´æˆ³ï¼Œç§’ï¼‰ |
| count_down | Long | å€’è®¡æ—¶å‰©ä½™æ—¶é—´ï¼ˆç§’ï¼‰ |
| item_show_type | Integer | å•†å“å±•ç¤ºç±»å‹<br>`1`ï¼šæ™®é€šå±•ç¤º<br>`2`ï¼šå…¶ä»–å±•ç¤ºç±»å‹ |
| item_count | Integer | è¯¥åˆ†ç±»ä¸‹çš„å•†å“æ€»æ•° |
| item_info | Array&lt;ItemVO&gt; | å•†å“åˆ—è¡¨ï¼ˆè¯¦è§å•†å“å¯¹è±¡è¯´æ˜ï¼‰ |

**å•†å“å¯¹è±¡ï¼ˆItemVOï¼‰ä¸»è¦å­—æ®µï¼š**

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| goods_id | Integer | å•†å“ID |
| item_number | String | å•†å“ç¼–å·ï¼ˆSKUï¼‰ |
| item_title | String | å•†å“æ ‡é¢˜ï¼ˆæ ¹æ®è¯­è¨€è¿”å›ï¼‰ |
| item_image | String | å•†å“ä¸»å›¾URL |
| slug | String | å•†å“URL slug |
| item_type | String | å•†å“ç±»å‹ï¼š`new`-æ–°å“/`clearance`-æ¸…ä»“/`preorder`-é¢„å”®ç­‰ |
| business_type | String | ä¸šåŠ¡ç±»å‹ï¼š`yamibuy`-è‡ªè¥/`third_vendor`-ç¬¬ä¸‰æ–¹ç­‰ |
| price | PriceVO | ä»·æ ¼ä¿¡æ¯å¯¹è±¡ |
| seckill_status | Integer | ç§’æ€çŠ¶æ€<br>`0`ï¼šæœªå¼€å§‹<br>`1`ï¼šè¿›è¡Œä¸­<br>`5`ï¼šå·²ç»“æŸ |
| end_time | Long | ç§’æ€ç»“æŸæ—¶é—´ï¼ˆæ¯«ç§’æ—¶é—´æˆ³ï¼‰ |
| brand_id | Integer | å“ç‰ŒID |
| brand_name | String | å“ç‰Œåç§°ï¼ˆæ ¹æ®è¯­è¨€è¿”å›ï¼‰ |
| brand_slug | String | å“ç‰ŒURL slug |
| comment | CommentVO | è¯„è®ºä¿¡æ¯ï¼ˆè¯„åˆ†>4.5æ—¶è¿”å›ï¼‰ |
| badge_list | Array&lt;BadgeVO&gt; | å•†å“Badgeåˆ—è¡¨ |
| coupon_desc | String | ä¼˜æƒ åˆ¸æè¿° |
| seller | SellerVO | å•†å®¶ä¿¡æ¯ |
| tracking_data | TrackingData | åŸ‹ç‚¹æ•°æ® |
| status | String | å•†å“çŠ¶æ€ï¼š`on_shelf`-ä¸Šæ¶/`out_of_stock`-ç¼ºè´§ç­‰ |
| promotion_short | String | çŸ­ä¿ƒé”€è¯­ |
| weekly_qty | String | å‘¨é”€é‡ï¼ˆå¦‚`100+`ï¼‰ |
| weekly_qty_sign | String | å‘¨é”€é‡å•ä½æ–‡æ¡ˆ |
| rank | RankVO | æ¦œå•ä¿¡æ¯ |
| group_num | Integer | å•†å“ç»„å•†å“æ•°é‡ |
| bundle | String | Bundleå•†å“å•ä»·æè¿° |
| bundle_info | BundleVO | Bundleå•†å“ä»·æ ¼è¯¦æƒ… |
